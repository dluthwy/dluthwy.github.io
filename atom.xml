<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Ye&#39;space</title>
  
  <subtitle>烨の小站</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yespace.xyz/"/>
  <updated>2021-02-19T14:40:58.263Z</updated>
  <id>https://yespace.xyz/</id>
  
  <author>
    <name>Ye&#39;space</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>V2Ray + WebSocket + TLS + Nginx 伪装式代理</title>
    <link href="https://yespace.xyz/2020/03/03/V2Ray/"/>
    <id>https://yespace.xyz/2020/03/03/V2Ray/</id>
    <published>2020-03-03T06:33:48.000Z</published>
    <updated>2021-02-19T14:40:58.263Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>这是一篇V2Ray科学上网的服务端和客户端搭建教程，记录下自己的思考和实践过程<br><a id="more"></a></p></blockquote><h2 id="开始之前"><a href="#开始之前" class="headerlink" title="开始之前"></a>开始之前</h2><p>先说说自己的需求，一直是Google等墙外服务的的重度使用者，所以必须有一个速度客观的科学上网（以下简称<code>FQ</code>）途径。要实现长期、稳定、安全的<code>FQ</code>，从逻辑上说，无非两种可行的方式：一种是租界别人搭好的代理服务（即：机场），另一种就是租用境外VPS自己动手搭建。另外，自己需要一个长期的Linux服务器（数据库、网站、frp等），所以就选择了后者。也考虑过机场+阿里云学生套餐的方案，体验应该更加流畅，但按年费算下来严重超预算，加上一般机场的跑路成本太低不敢用、国内备案等琐事，果断放弃了改方案。</p><p>当然，不得不说的是，都2020年了自己租用VPS搭建单一线路的科学上网代理实在不是好主意，GFW流量监控策略只会更加严格，墙只会越来越高，优质线路的国际出口门槛也只会是水涨船高。想省事并且只有<code>FQ</code>需求的话，一些比较靠谱的机场还是比较不错的选择，我只临时用过几个公益性的机场（比如<a href="http://portal.ibcn.space/" target="_blank" rel="noopener">IBCN</a>）每个月20GB凑合着用也还可以。</p><h2 id="VPS代理"><a href="#VPS代理" class="headerlink" title="VPS代理"></a>VPS代理</h2><p>正文开始，VPS选择及初始化配置在这里——<a href="https://yespace.xyz/2019/12/24/VPS-Init-Config/">VPS Ubuntu-18.04 个人配置</a>。</p><ul><li>VPS提供商：<a href="https://cloudcone.com/" target="_blank" rel="noopener">CloudCone</a></li><li>系统：<a href="https://ubuntu.com/" target="_blank" rel="noopener">Ubuntu-18.04</a></li><li>代理工具：<a href="https://www.v2ray.com/" target="_blank" rel="noopener">Project V-V2Ray</a></li><li>反向代理工具：<a href="https://www.nginx.com/" target="_blank" rel="noopener">Nginx</a></li><li>DNS服务商：<a href="https://cloudflare.com/" target="_blank" rel="noopener">CloudFlare</a></li></ul><h3 id="加密-vs-伪装"><a href="#加密-vs-伪装" class="headerlink" title="加密 vs 伪装"></a>加密 vs 伪装</h3><p>当下的科学上网方式无非也就两种，一种是加密流量，一种是伪装流量。</p><p><strong>加密流量</strong>的代表就是Shadowsocks和ShadowsocksR（以下简称SS和SSR），以及V2Ray的VMess协议这种类型，它把你的网络流量加密封装成没有任何特征的数据包，但从墙的角度来看，你的流量就是未知的数据流量，其实这就是最明显的特征，虽然墙不知道里面的内容是什么，但是他可以判断数据量的大小，从而阻断，这也就是一到重大节假日各种VPS集体翻车的原因之一。其实仔细想想也对，小本本上早就记好了，平时可以睁一只眼闭一只眼，限制一下流量，到了需要断流的时候就是改个参数的问题。</p><p><strong>伪装流量</strong>简单来说就是全部伪装成正常的HTTPS流量，这就和我们平时访问网站的流量形态是一样的，这种流量是一种非常普遍的加密流量，对于墙来说，互联网上HTTPS的数据是海量的，他想要的这种海量数据中区分出哪个是梯子，这还是有很大难度的，更不会贸然阻断，所以伪装型的目前来看还算安全。</p><h3 id="伪装HTTPS"><a href="#伪装HTTPS" class="headerlink" title="伪装HTTPS"></a>伪装HTTPS</h3><p>目前伪装HTTPS流量的方式也有两种工具，分别是<code>Trojan</code>和<code>V2Ray+WebSocket+TSL</code>，从本质上说这两种方式基本等价，也可以说前者是后者的简化版。当然，V2Ray也可以完整兼容Shadowsocks的所有协议，从某种意义上V2Ray是一个全集，<code>Trojian</code>和<code>Shadowsocks</code>都是子集产物。本文就介绍一下使用V2Ray搭建代理服务器的配置以及Windows本地客户端设置的方式。</p><blockquote><p>V2Ray的配置指南<a href="(https://toutyrater.github.io/">这里</a>)有一篇非常好的教程，下面的内容摘录了其中一部分V2Ray配置，补充了Nginx和Windows客户端的设置部分</p></blockquote><h2 id="V2Ray服务端配置"><a href="#V2Ray服务端配置" class="headerlink" title="V2Ray服务端配置"></a>V2Ray服务端配置</h2><blockquote><p>根据之前的描述，以下的配置信息都是使用<code>V2Ray</code>的<code>WebSocket + TLS</code>模式来配置的</p></blockquote><h3 id="切换时区"><a href="#切换时区" class="headerlink" title="切换时区"></a>切换时区</h3><p>V2Ray 对于时间有比较严格的要求，要求服务器和客户端时间差绝对值不能超过 2 分钟，所以一定要保证时间足够准确。还好 V2Ray 并不要求时区一致。比如说自个儿电脑上的时间是北京时间（东 8 区）2020-03-04 12:08:31，但是 VPS 上的时区是东 9 区，所以 VPS 上的时间应该是2020-03-04 13:06:31 到 2020-03-04 13:10:31 之间才能正常使用 V2Ray。当然，也可以自行改成自己想要的时区。</p><p>这里我们修改时区和本地一致吧，输入如下命令：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo tzselect</span></span><br></pre></td></tr></table></figure></p><p>然后选择亚洲Asia，继续选择中国China，最后选择北京Beijing，然后创建时区软链接：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span></span><br></pre></td></tr></table></figure></p><p>这里注意一下，如果服务器架构是 OpenVZ，那么使用上面的命令有可能修改不了时区</p><h3 id="安装V2Ray"><a href="#安装V2Ray" class="headerlink" title="安装V2Ray"></a>安装V2Ray</h3><p>需要注意的是，与 Shadowsocks 不同，从软件上 V2Ray 不区分服务器版和客户端版，也就是说在服务器和客户端运行的 V2Ray 是同一个软件，区别只是配置文件的不同，因此 V2Ray 的安装在服务器和客户端上是一样的。</p><p>在 Linux 操作系统， V2Ray 的安装有脚本安装、手动安装、编译安装 3 种方式，选择其中一种即可，推荐使用脚本安装，该脚本由 V2Ray 官方提供。该脚本仅可以在 Debian 系列或者支持 Systemd 的 Linux 操作系统使用。首先下载脚本：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> wget https://install.direct/go.sh</span></span><br></pre></td></tr></table></figure></p><p>然后执行脚本安装 V2Ray：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo shell go.sh</span></span><br></pre></td></tr></table></figure></p><p>安装完之后，使用以下命令启动 V2Ray：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl start v2ray.services</span></span><br></pre></td></tr></table></figure></p><p><strong>更新问题：</strong>在 VPS，重新执行一遍安装脚本就可以更新了，在更新过程中会自动重启 V2Ray，配置文件保持不变<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo shell go.sh</span></span><br></pre></td></tr></table></figure></p><h3 id="V2Ray服务端配置文件"><a href="#V2Ray服务端配置文件" class="headerlink" title="V2Ray服务端配置文件"></a>V2Ray服务端配置文件</h3><p>编辑配置文件<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo vim /etc/v2ray/config.json</span></span><br></pre></td></tr></table></figure></p><p>输入内容如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"log"</span>: &#123;</span><br><span class="line">    <span class="attr">"loglevel"</span>: <span class="string">"warning"</span>,</span><br><span class="line">    <span class="attr">"access"</span>: <span class="string">"/var/log/v2ray/access.log"</span>,</span><br><span class="line">    <span class="attr">"error"</span>: <span class="string">"/var/log/v2ray/error.log"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">"inbounds"</span>: [&#123;</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">10000</span>,</span><br><span class="line">    <span class="attr">"listen"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;</span><br><span class="line">      <span class="attr">"clients"</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            //更改UUID</span><br><span class="line">          "id": "36b132ba-5e5f-4e02-9076-5bcb26a476b7",</span><br><span class="line">          "level": 1,</span><br><span class="line">          "alterId": 64</span><br><span class="line">        &#125;</span><br><span class="line">      ]</span><br><span class="line">    &#125;,</span><br><span class="line">    "streamSettings": &#123;</span><br><span class="line">        "network": "ws",</span><br><span class="line">        "wsSettings": &#123;</span><br><span class="line">        "path": "/ray"</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  "outbounds": [&#123;</span><br><span class="line">    "protocol": "freedom",</span><br><span class="line">    "settings": &#123;&#125;</span><br><span class="line">  &#125;,&#123;</span><br><span class="line">    "protocol": "blackhole",</span><br><span class="line">    "settings": &#123;&#125;,</span><br><span class="line">    "tag": "blocked"</span><br><span class="line">  &#125;],</span><br><span class="line">  "routing": &#123;</span><br><span class="line">    "rules": [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">"type"</span>: <span class="string">"field"</span>,</span><br><span class="line">        <span class="attr">"ip"</span>: [<span class="string">"geoip:private"</span>],</span><br><span class="line">        <span class="attr">"outboundTag"</span>: <span class="string">"blocked"</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>其中的id字段即uuid，相当于ss中的密码，为了避免重复，可以使用<a href="https://www.uuidgenerator.net/" target="_blank" rel="noopener">在线uuid生成器</a>随机生成一个</p><h3 id="重启V2Ray"><a href="#重启V2Ray" class="headerlink" title="重启V2Ray"></a>重启V2Ray</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl restart v2ray</span></span><br></pre></td></tr></table></figure><p>此时，V2Ray已经重新启动并且以Websocket的方式在<code>127.0.0.1:10000</code>上运行</p><h3 id="申请SSL证书"><a href="#申请SSL证书" class="headerlink" title="申请SSL证书"></a>申请SSL证书</h3><h4 id="安装acme-sh"><a href="#安装acme-sh" class="headerlink" title="安装acme.sh"></a>安装acme.sh</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> curl https://get.acme.sh | sh</span></span><br></pre></td></tr></table></figure><p>然后重新载入一下<code>.shellrc</code><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> ~/.shellrc</span></span><br></pre></td></tr></table></figure></p><p>申请Let’ s Encrypt提供的免费 SSL 证书，这里我们使用的域名解析商是<a href="https://cloudflare.com/" target="_blank" rel="noopener">CloudFlare</a>。<br>首先导入CF的密钥，密钥获取方式CloudFlare网站上就有。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> CF_Key=<span class="string">"your_cf_key"</span></span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">export</span> CF_Email=<span class="string">"your_cf_email"</span></span></span><br></pre></td></tr></table></figure></p><h4 id="申请证书"><a href="#申请证书" class="headerlink" title="申请证书"></a>申请证书</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//创建证书保存目录</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo mkdir /usr/<span class="built_in">local</span>/etc/cert/</span></span><br><span class="line">//添加权限</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo chmod 777 -R /usr/<span class="built_in">local</span>/etc/cert/</span></span><br><span class="line">//申请证书，这里使用ec-256椭圆加密算法</span><br><span class="line"><span class="meta">$</span><span class="bash"> acme.sh --issue --dns dns_cf -d your_server_name -k ec-256</span></span><br><span class="line">//安装证书到文件</span><br><span class="line"><span class="meta">$</span><span class="bash"> acme.sh --installcert -d your_server_name --ecc \</span></span><br><span class="line">    --key-file /usr/local/etc/cert/your_server_name.key \</span><br><span class="line">    --fullchain-file /usr/local/etc/cert/your_server_name.cer</span><br></pre></td></tr></table></figure><h3 id="配置-Nginx-服务"><a href="#配置-Nginx-服务" class="headerlink" title="配置 Nginx 服务"></a>配置 Nginx 服务</h3><h4 id="安装-Nginx"><a href="#安装-Nginx" class="headerlink" title="安装 Nginx"></a>安装 Nginx</h4><p>如果服务器上已经安装好Nginx服务，可以跳过这一节。这里在ubuntu上操作，所以使用apt直接安装就行<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install nginx</span></span><br></pre></td></tr></table></figure></p><h4 id="防火墙开启Web端口"><a href="#防火墙开启Web端口" class="headerlink" title="防火墙开启Web端口"></a>防火墙开启Web端口</h4><p>这里使用<code>iptables</code>直接开启，ubuntu上也可以使用<code>ufw</code>工具<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> iptables -A INPUT -p tcp -m multiport --<span class="built_in">source</span>-port 80,443 -j ACCEPT</span></span><br></pre></td></tr></table></figure></p><h4 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo vim /etc/nginx/sites-available/v2ray</span></span><br></pre></td></tr></table></figure><p>配置文件如下：<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">server &#123;</span><br><span class="line">  listen  443 ssl;</span><br><span class="line">  ssl on;</span><br><span class="line">  # 你的密钥路径</span><br><span class="line">  ssl_certificate       /usr/local/etc/cert/your_server_name.cer;</span><br><span class="line">  ssl_certificate_key   /usr/local/etc/cert/your_server_name.key;</span><br><span class="line">  ssl_protocols         TLSv1 TLSv1.1 TLSv1.2;</span><br><span class="line">  ssl_ciphers           HIGH:!aNULL:!MD5;</span><br><span class="line">  # 你的服务器名称</span><br><span class="line">  server_name           your_server_name;</span><br><span class="line">    location /ray &#123;</span><br><span class="line">        proxy_redirect off;</span><br><span class="line">        proxy_pass http://127.0.0.1:10000;</span><br><span class="line">        proxy_http_version 1.1;</span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection "upgrade";</span><br><span class="line">        proxy_set_header Host $http_host;</span><br><span class="line"></span><br><span class="line">        # Show realip in v2ray access.log</span><br><span class="line">        proxy_set_header X-Real-IP $remote_addr;</span><br><span class="line">        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>添加软链接开启服务<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo ln -s /etc/nginx/sites-available/v2ray /etc/nginx/sites-enable/v2ray</span></span><br></pre></td></tr></table></figure></p><h4 id="重启Nginx服务"><a href="#重启Nginx服务" class="headerlink" title="重启Nginx服务"></a>重启Nginx服务</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sudo systemctl restart nginx</span></span><br></pre></td></tr></table></figure><p>OK，到这里没有问题的话V2Ray服务端配置就完成了</p><h2 id="V2Ray客户端配置"><a href="#V2Ray客户端配置" class="headerlink" title="V2Ray客户端配置"></a>V2Ray客户端配置</h2><h3 id="客户端安装"><a href="#客户端安装" class="headerlink" title="客户端安装"></a>客户端安装</h3><p>点<a href="https://github.com/v2ray/v2ray-core/releases" target="_blank" rel="noopener">这里</a>下载 V2Ray 的 Windows 压缩包，如果是 32 位系统，下载 v2ray-windows-32.zip，如果是 64 位系统，下载 v2ray-windows-64.zip（下载速度慢或无法下载，<a href="https://share.weiyun.com/58WSrcx" target="_blank" rel="noopener">这里</a>我做了个备份）。下载并且解压之后会有下面这些文件：</p><ul><li>v2ray.exe 运行 V2Ray 的程序文件</li><li>wv2ray.exe 同 v2ray.exe，区别在于wv2ray.exe是后台运行的，不像 v2ray.exe 会有类似于 cmd 控制台的窗口。运行 V2Ray 时从 v2ray.exe 和 wv2ray.exe 中任选一个即可</li><li>config.json V2Ray 的配置文件，后面我们对 V2Ray 进行配置其实就是修改这个文件</li><li>v2ctl.exe V2Ray 的工具，有多种功能，除特殊用途外，一般由 v2ray.exe 来调用，用户不用太关心</li><li>geosite.dat 用于路由的域名文件</li><li>geoip.dat 用于路由的 IP 文件</li><li>其它 除上面的提到文件外，其他的不是运行 V2Ray 的必要文件。更详细的说明可以看 doc 文件夹下的 readme.md 文件</li></ul><p>实际上双击<code>v2ray.exe</code>就可以运行 V2Ray 了，V2Ray 会读取 config.json 中的配置与服务器连接。</p><h3 id="V2Ray客户端配置文件"><a href="#V2Ray客户端配置文件" class="headerlink" title="V2Ray客户端配置文件"></a>V2Ray客户端配置文件</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"inbounds"</span>: [&#123;</span><br><span class="line">    <span class="attr">"port"</span>: <span class="number">1080</span>,</span><br><span class="line">    <span class="attr">"listen"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="attr">"tag"</span>: <span class="string">"socks-inbound"</span>,</span><br><span class="line">    <span class="attr">"protocol"</span>: <span class="string">"socks"</span>,</span><br><span class="line">    <span class="attr">"settings"</span>: &#123;</span><br><span class="line">      <span class="attr">"auth"</span>: <span class="string">"noauth"</span>,</span><br><span class="line">      <span class="attr">"udp"</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">"ip"</span>: <span class="string">"127.0.0.1"</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">"sniffing"</span>: &#123;</span><br><span class="line">      <span class="attr">"enabled"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"destOverride"</span>: [<span class="string">"http"</span>, <span class="string">"tls"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;],</span><br><span class="line">  <span class="attr">"outbounds"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"protocol"</span>: <span class="string">"vmess"</span>,</span><br><span class="line">      <span class="attr">"settings"</span>: &#123;</span><br><span class="line">        <span class="attr">"vnext"</span>: [</span><br><span class="line">          &#123;</span><br><span class="line">            <span class="attr">"address"</span>: <span class="string">"your_server_name"</span>,</span><br><span class="line">            <span class="attr">"port"</span>: <span class="number">443</span>,</span><br><span class="line">            <span class="attr">"users"</span>: [</span><br><span class="line">              &#123;</span><br><span class="line">                  //与上面一致</span><br><span class="line">                "id": "36b132ba-5e5f-4e02-9076-5bcb26a476b7",</span><br><span class="line">                "alterId": 64</span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          &#125;</span><br><span class="line">        ]</span><br><span class="line">      &#125;,</span><br><span class="line">      "streamSettings": &#123;</span><br><span class="line">        "network": "ws",</span><br><span class="line">        "security": "tls",</span><br><span class="line">        "wsSettings": &#123;</span><br><span class="line">          "path": "/ray"</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="浏览器代理"><a href="#浏览器代理" class="headerlink" title="浏览器代理"></a>浏览器代理</h3><p>这里我们在Chrome浏览器中使用SwitchyOmega插件作为切换代理上网，当然也可以手动设置代理为<code>127.0.0.1:1080</code>，但是使用SwitchyOmega可以添加<code>gfwlist</code>自动切换代理。</p><h4 id="SwitchyOmega下载"><a href="#SwitchyOmega下载" class="headerlink" title="SwitchyOmega下载"></a>SwitchyOmega下载</h4><ul><li>在线安装<br>从<a href="https://chrome.google.com/webstore/detail/padekgcemlokbadohgkifijomclgjgif" target="_blank" rel="noopener">Chrome 应用商店 </a>安装，如果无法从该链接安装，请使用下面的离线安装。</li><li>离线安装<br>去<a href="https://github.com/FelisCatus/SwitchyOmega/releases" target="_blank" rel="noopener">Github 下载</a>最新版安装包 ，或者直接<a href="https://share.weiyun.com/58WSrcx" target="_blank" rel="noopener">我的备份</a>进行安装。<h4 id="SwitchyOmega配置"><a href="#SwitchyOmega配置" class="headerlink" title="SwitchyOmega配置"></a>SwitchyOmega配置</h4><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/v2ray/pic1.png" alt="UTOOLS1585052199747.png"><br><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/v2ray/pic2.png" alt="UTOOLS1585052274369.png"></li></ul><blockquote><p>gfwlist规则网址：<a href="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt" target="_blank" rel="noopener">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</a></p></blockquote><p>OK，到这里就可以使用V2Ray放心的科学上网了！</p><h3 id="使用NSSM将V2Ray部署为windows系统服务"><a href="#使用NSSM将V2Ray部署为windows系统服务" class="headerlink" title="使用NSSM将V2Ray部署为windows系统服务"></a>使用NSSM将V2Ray部署为windows系统服务</h3><p>emmm，v2ray-core的官方版本应用没有GUI（当然可以使用第三方GUI，这里就不介绍了），所以每次使用都必须打开控制台。这里我们使用NSSM将V2Ray部署为windows系统服务，开机自启，无感科学上网。<br><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/v2ray/pic3.png" alt="UTOOLS1585053014297.png"></p><h4 id="NSSM"><a href="#NSSM" class="headerlink" title="NSSM"></a>NSSM</h4><p>NSSM 是一个服务封装程序，它可以将普通 exe 程序或 Nodejs 项目封装成服务，像 windows 服务一样运行。同类型的工具还有微软自己的 srvany，不过 nssm 更加简单易用，并且功能强大。<br>官网：<a href="https://nssm.cc/" target="_blank" rel="noopener">https://nssm.cc/</a></p><h4 id="服务安装"><a href="#服务安装" class="headerlink" title="服务安装"></a>服务安装</h4><p>服务安装可以使用如下命令： <code>nssm install &lt;servicename&gt;</code><br>直接在 nssm.exe 所在目录运行命令行，输入：<code>nssw install + servicename</code></p><p>之后会弹出设置界面，需要做的就是:</p><ul><li>设置可执行文件</li><li>增加执行参数</li><li>设置服务名称</li></ul><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/v2ray/pic4.png" alt="UTOOLS1585053295853.png"></p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;这是一篇V2Ray科学上网的服务端和客户端搭建教程，记录下自己的思考和实践过程&lt;br&gt;
    
    </summary>
    
      <category term="折腾笔记" scheme="https://yespace.xyz/categories/%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="V2Ray" scheme="https://yespace.xyz/tags/V2Ray/"/>
    
      <category term="Nginx" scheme="https://yespace.xyz/tags/Nginx/"/>
    
      <category term="VPS" scheme="https://yespace.xyz/tags/VPS/"/>
    
  </entry>
  
  <entry>
    <title>Latex Test</title>
    <link href="https://yespace.xyz/2019/12/30/LatexTest/"/>
    <id>https://yespace.xyz/2019/12/30/LatexTest/</id>
    <published>2019-12-30T09:41:48.000Z</published>
    <updated>2021-01-01T03:20:00.094Z</updated>
    
    <content type="html"><![CDATA[<div class="hbe hbe-container" id="hexo-blog-encrypt" data-wpm="Oh, this is an invalid password. Check and try again, please." data-whm="OOPS, these decrypted content may changed, but you can still have a look.">  <script id="hbeData" type="hbeData" data-hmacdigest="6ca402e439fbbe4a8c4e9b189984878dc18a83f29671d6db35dd52ea237c1e5a">5f7c3c6c3bc3c282fd0b7e2655ef093b8c5cacb4f1ec73f7f65905d55a67adc3c01bb0bf168642e80d74c96b45ae823e361c510a9f0282df17d55deb0322f57a4f3bbafd7bab8f7ee8dd081ec98d1a17e3344715528ea8eb19ae0b63ad3ada652785b7d93b6e625031b89b5788808f847386224eaca96b32b04c008b69aca5d990b013d08393c8a88aa378d60f9cc09fd2cf81bd7637cf344b9ca2593adc025de91d989947866da13da8a1fca3d8416ca5b4cdb1694cacd5c2956aeee080a2103fab375e41d900c4d4dfa4cec5f9b6ff01584203b5236ba079edd70711d0e4ccc55a818ebb517a79f12a9e98e926a5bfe740dac3c00c18e41234234fb48a62783fe8336756b61f8b449035b154897348bb44812123bab5f01100be64942d28436643afe2b250e8c2ad7acf6b7f634e41a7c2c77f72e82e08563b4ed5721d619fe43fd0137423ab3232b969a2be79eb3e262437fdd8f472a7319acb9f6a691373fdf9d6394be1d57e07b04e5c319c9018027ab91ee075b9cf09b88a4e167c386093c1714f85162b1e7113331deda4c703771ee366152029f063df5e75970652f7d2e11affa804981fbf82acba75ec55983c1de7ebd539c2633db125eb8d17a2a22bcf8bbe99490923d4efc3adfc589fed49278a3c75241574e7d72871a4ac6d179318c29f07ce6b709bfe0363d3119ea311376328acb87d36532060271bfb8eb8b5e0a93affb47691eb50e44480134aeaea77ca89f4fa41820e630059bcbbd73b27711c5652a1886ac43b819e2726ff2a4c4edb2006a298ab1fa290c6610aa95ba661f0f8d028377a46584f08421ef7c0298fee4d65b3e2423d2b9662a796f1b26773c29e076006c15dcea9dae00800520acf18343e24ddfe7dfff425f5789825c7b19e8655b34aa810632e6d175234058f6770d4abbbc8cb235fedcd0e79a0a9216b0cf1bbdd4c425faa55f3abca3ff23ea8169e89e66bc66623aa5fff482a7d99baedcd44f4652f985e3662e6c4210526b077d12c70995a872c0cf0908f06db2dd27fcd36ab660a63a0c62c1dbe332cffdd020d5d42f25ad779160dcbb1396519203c25d8641a6086481a08bea54ad1d4ff33941237a95ee14a31403a761eaa1e58c693cd2023e9be40c81c7515543cab2e7dc0afc5faec2955fd115988d042127b81fd6e0a96c3d7be014abd63b000d2bc44d0b9f64a35b10a41626a1ffdf9323b1328126ca7b138a6cfa1b0fbc202eb5a0654ce373070c2d9eeb0ba019e2c46a6d9890e482c469dd2bd8b9b8c5de022096339557d472f1d9d5ac1b947ff7db467ed2619fe9fca3a2f49a8c9b82272b6e2989caa58604cff6d8ceff627857ece2b60ef88809746ad23aa0e87d96937f7e7abfe8fb44a83a028c038a1d646ca3d0333646160fd3692928206b65343c9e046f802eec77e8c5a052abc61fe7139f73ab4bfab4e7ff657ecf582f58ad3d3993fa4632c5efbf54110b8b69e96bc43d59abbbee46c8f11d42cd411a0acdc6a844fc1252dc1fb9b4f1cbb504ec2adabfd3271a1430d536a68bd63f7a61b231e088bb72f9373cc8dd5d13431d8de082dd98e847c504cb86f5fb39392ddedffbc9d16e6a73260ef9266202ec0b36eb2a1e4072c003bef139bcfd9e0f69a66896f85d31bfa5fdd2bbf784cfbf261198e2062e941d92d5a400cfff78ab940b7b577318b989fe9a1f9bd31adc27b055932ac0d6cd181c5f5342b5fa0085b302dc2e7a32bf74e899ad3cf9d7cb8176fc1c43d0283bbd7ca42694a03ce5a0a63afec353d1f56c0c9defcd2e52095df729954124e2922267d9418538befe36bb07e38b56c0961fab6528bfd0e594eadd3beae952fbe3c100e95f4ab430ce57ce1bed2683d553c803819de64931ac5e49f0b02d77ff5fa99e5a0434092c724f600ace3993842f21083e74856aa5b1b5e37fed6519575f6911bc92cb466fe4095c63102bc5c31c29d16db6a4907dcd1bcefa97f097661ff1d5d62293c891e5ba8ee1fee150f138a5d9f20b1ce77b39c89c8b0992d3ad8d6bea807cc37e99ea1dda4fe28c3c6e5d1dab7976649f3f0849424bb6b1b3387297ce4303f559dae1bd45c3294136be522f3a2b7053b4098680124fc24c3b7f53f9b79be158a13dbeb716f166444adab1449326a3a2c2b6d2c9b61eceb52df4ecaac081c86c29182c542145c8d657cd9167b4b6680667ef285c979df1c5f95402a7546db967ac8b169ffcfcc94d20ea7d89a85006bba76781d4dd21fe3fb8ded753d541eb402f48ce46c6a32fa8df1b5a9e0a72a92d0e1e584691aa8b78ef5582e88daef2bde052731d89578ef16125db6ce3afa891a0b3b1f799f9c43cd36d0615021115779e377d2d906f5a33727bdc792b226e9d93c7082e87cda0dc12b30b8f0cc9a4c1343e40fe06403f08da276dee589573b98adbf6e25b7e741508488c3e266a095448ca292ecb85e0014322e4159eeca790209fd6caf386a7bfdd28a2bf91b88bea4f677e1f5693595d5bba253398ee6ee1bb64dcf5cc066c234b0a42a898d893481268f101e7aae2c075c723c0a581b0142eae8e2c5672b92c88f66f276effb7fb24d26b596bcb79764089c1b2a14fbeae32862c307c11ec0c2da4a14edb7304ca1e0750d63966946cea9d9f0520d65564700bb5edd2cc4ecd23922f50023dfacf2c16469c69a518b95cfa6d7ade8e62b501ef79176d26107ac10ebff69de152ec2e7f379116e1f49e65d28f2e6e66d9ec66b2bc83acd21daac838a8db1dfa3542f406c04ab0eb68214d46736a555a13091767b9b77702d18eb63c7bf5761e41a21e589941fe764f69d561d26dc2e1708b4f21deb95cd0fbbbb72478ca6ab2110d49380e442855d3ad22da230cdc148ab792cd328fc4d03a1347a7fd5a509099ea9c7ab53eafa4523516cc380165aef2c8d33e45ca1c40d593c1c002866a8cd81d0d2455747b39a23a4979e2e353a77eca6675e7b97b4ff513b112519dc629e9e43f2b3a826de50efa35af1bfb1a67f1d4ec97c84c8b550b4caa626e0cdf43bfde6b12362d8980054dab3636ff2e18c76e819ee240d55c2b99d510bd77f03a16e25a0bd07c12e69462382c79a57716752f8c2348dfdf834d8fc4d7c20a2e3e1ecb41156bc2bd3cd939bff7e3f5b702ad6340a62465069c8b3eccee4eca360962f4d85ff5cbd234cd9fef13fc4cfd406a372f04b01c8ef47b5c24b6fd3f81d23f742bf8f724ec9c01353ff5b12d124369c364e1d03ed62bacc788c8c5e31611d59e8d6074d5886b216ecfacb20f3876b52390c8c265b998333e336b29ea2789092aa11e66c8cd8ef02a06747067e84da309ae229dd2c528788b078dbe930b55e6b25097549454100b93723edf4a30788603dfcd31eca9e90a9fbf0b8a8cac945f2070336148f3af1968bff265fc14901d7c9ce717aa592f9681ee35a8eae7ac8dd6eb8c6af3ea6051c7d72a8796bbd55ad76057c368b49263993c4f708e65a5012167d45b9d1ae7c8c2ccf11b72c82ee90f086960bb4d63576a9ef6d81e5687e11548f05c0b720637dd532a79aad1a72f0a12df3626f416aca519132857bfc232bfb175d826ba18e5a9dcb49f3903bfd547b90b438bd67db67bbcbe79b9139db91641f15aed1b48041f2448527498851f15b2f5b8c44d9d15f590627377cc3d96be61f44cffa0453f64ab855fcb7ad5363a7491ad4a3ccb2a1d7cbfa111bf6027aa3246b6064529e0d1d0b060a5cc49b50788cb86a4cc2447ddd2f449be9b1493e547f54e8a30495dec021632caa0ab541de596e3b8264fb5cc890a7a057f99c5bc63158d52f81984435f51e4cab87edbbc324a48246cc006f133aa047e90c39f6bcc52c477fc5e54355684f08964ceebbbdf38d71b6461acd230242f936a387a4a13fdba3eb610e57579203d487cc006fa8ab5a56b41f24c1ccc96a89d4593129761f047ce416a0d77c0fb12106fb7caf14334b20b14c43b88466ea01a8c32254ddb4473e59ce505dbb667b3c4bc436ce5beae1dce26622b341597c66a9ca2ed6eb2b7711a0b04ffe4a64f308da4999b08a916838f55e5957b7f71f118476e3ce314619ea4749272f6ff05e54fd9fa08d47294f5b89720fc2e0c3f7224cd2cf30b39b62ffd6dcfc7485cd8075bb428e4fd72dac083e1769290b9fb79bd6943554a0c298c6dc5c2f13625135a88d9915aafbaf795f43df3d6537f606a9004a86a7120a5bef48d7d546f5ccdc426bcab0781a8504a3f8546b12ef75020775d4bde00d8a31a5a8cf19537a8f9cd10d2b206eee2fe24ee31d555b847fbdf56d1924416705016bac9cff0d3e73b399ef460ebe8ce94e54fc185c5f9393c6c4cac68108b157316a893e53f534ae1de130b42c034b04b47081879064663b10d03955791f57fc1accf962d36d9e6e538b0354bc2b0b5450f9b1d9ba11cf4a0f33e6fc9d7d73c8ec2ced9d281f9d3ed08ee21bf0a489f8178809c37f96c10dddc9d0efe370d9453f2b95ac57aaca93c6611a38eb15a84b87b76ce37cd365492f2f211f8cb18adc5d62a925ec7de3601daf4d0fc21e0f188842b0dc5acf7bcc8185f720ca4f7e75969dea10b752a8181dacf6b22a479795623a2b3fcc332e6b7956334ab040fdbac686bd216a42314b17384dd5ca4e78c68a4fed167635378bcfcc401fff938f64a58a9050424b994178843e7f4b1ac0b8d51b1b9b250d9dc965669b97d072c688a21a6f6c1b8c0b0c4859e7c4fce73ea97fa78b75a7ab43aa6f4684a65c30e3d980399728c4c8fb5ad0ebf3d4acef92069b438f6741cb76ced06708cb8de20b42bc08f752fa2023cc99c3f4df762f06444528de67588091773705db0cd647e681a0096074caed73d5d1f274cd0cad110a54a41652cc8123c9ef0dc447b84137e35be601dab9b8f54eebf2c7006669857699325e2814d1644b6db0416c865b1a4a1b01399e3e7c07f1a6b25e6eb43b4505d0fb1a5075b11cc21dc32659789cc172291a36ceb9404faf0cf8b050a667edfaf66ad5b3c3ff34b3b097146ad4970bb106d2cee8181b33f857dba1ef6e491e08e06cf6bb5666bb6b3fab90948f942151ce2bb79b1d988e6065805ae4d40cd3b8a5ab28aa866357eda5ddcea4e1a7d1c40c6fb7cab0966fe46aedb96291c1abfcc01f1ea7e77d42f45f5d824fef5725b42931c5be57bf48e8eceefc8de26b507a2009076505d424d43761ddf77442f791127ce8d5afe9155a8afb56e80ed12adfc30a8bcf196d34e87df884750973dcf7711e18f43251fd2c19c483be7dbbb8b82f0f0f179be05f0ae86510166a1446e670855b1a311c849b712e67b67c4aaad9d4ce3cccd2d1f984fdbb14139f07615a5091b5c42f1fd9cdc6600da5c6f81ad996d42ab506791120feec649c5296682cd31763a8d813fecc832989b18ca1df7dcb49175426c77ca3b2013e5979cc70dd1fad9e0023c9d5e856523dfff129128c63f57ac2e2408c137e821f17ddb8a0b4fa1149d437e4063eaa22cd285b4f2dc3d745b71b5970cca970538542ff4c010a7ef232b3d1d6e730f04af8564945050fed7c604a88f230520464036fdbceb8f3e09be17113ab1e3a13a86f13ed0995e4e8acdbf27ba5489fc44cbdd69fe247ff7403f9ffbb22c49c0cb2ecaa1cdf54ca141b578dccff045117ed127bab58d611de9beb2961d04f0bea4ebd7729e406b63dc2e38d9b5f8d4d6a99578d363562353389927ab267297deb748658786c662ee595f80a57172af393dc078d9cf855ee842e8e4d7d0265112e19be41714ebb6f0976d5d788ce258e49a9164ca1b81f32f611d254a0c21a135d99ea6c44397181060adef60b0d125ddcfcbaff0cdff095fa9164e510c36cdd5b9a165ad3fec872c955bd585d9715a2a7b1d561b745d0c46d5cd803ceeca982dcd983e993b04c7e6a38dfbd5315c2342f0394b4464bfa5c491a344f6c2aec114e12fa1d5baa0060805e158603fed2f691384f9d557ab6eeb8e8e2ff95a7bfe5cb3ec0178918e622396375ab019e81629d8f20055a53b650687e7496ac4c7d51e839bede20477d11ad3607cc02a592350c26c22429716dedd07fe5f2553dcfa21f9f945b46203cc8d44c49435d34d511f2c24f6b694aef2d8ca73adf95eb079024fa784ba41ae3ed8afc989289d4dba92874c3ffb0533ba801bb4e83c93101dfe7b21c0fdcf9a2e9926a01711bcbefe8e8f5d2e30793eb1cd5f4bf92cecf72d62d7b8ef6bc661852c55399af48bd2baf65de7f68c68e6b4652abe8650799fa37c498f146d04916fc717f87b5f4f401287775fc6aef0aaf317dc1701105692eb7aee6b53201a4bef450b69040bd6c06d8bb89b79c6350da93372acf95af4ce654a11b46955c28e3ae904abdc1cccd09aa803c3505e4ca7cfdb65873ae0e77d851cb24b8d2845e47752564447cd94e3abb5ff893413674bee6f025bcb28c1c59e70d8847a6061847e785ba67f298c1e187363e11514c265e1eb6a1799ecafbe38c42ce08dca393dacfff3d4dfe63d891bee036145720acb225587950425c7bb54097e5fe4aca57e2722d0db3fd7e4b76d7bfbd30dda1a9e17f28d629fc06206605e8f8406ea3afed9d32e96be096a72358ca7e404942daf9aa75111408ab3361a673cc4e82c35598ede8fbc2de9e3008d3fb20e851b61061e1083f615cd7bdec9577d4b515b01a52d48af43ecbfed8127eff2c21a1c7eb6ed54ff1b168af6da1f23e5ed19f68424a32ee8cf7d0291ddb0feaf6cc44abbe756d991d8bcdcc05a6ea47f6309927d7ebc4045b3e6bce0b7bc6cf4bb8b5da916bbb0333bb7aa3dac01f9232ec73928f65c3b88785aeae9235e12705b1319e3c9eaf22e325febfdbfe9595c30da38f52d2b84c26eb3016cc8d731c15e27550903fe5bc61517323704fbe21827dffec5d49436925af1b96396fbdfbd7e2ed60d5f1f1714fb86301db11334b28ab1afb439ae527798e64675e3ec92200a84f506afcecec0d4278a9916232e6b2cddd3dfe0af9a3454da015bdd1c2a85404cd22f30ccf3a53e7ef336b004beb37d77f83c3b1c3777b62cc0246b4b8da92b493096b4ad6aaa25da7bb790391a4dcf68191445b9e2f2730f4d71d894eb21167ddfa2d8c8e5035323727590907f77525fbb837aa541b570283daa1e904a245b257ff7753936a4271569912a447576966320bfd32b2c982bb0bd097acaf86d2ecd708a19c2094dc88b7a669cec9e948d3aca276368b88596c0666d4f8a56c08dd702c713e7c885325f30660d1ccc412dd7d5b981832d57bd6dd67d285e8b9e72728982ab4395781a7a08931f16abda3c60cd43bed5d95bb78200f21779c98b349464c81f16a92586459339c7db79fd55520a4266b172c853b94feda3b429e13e51c1e06ee40766f523e0aacf4ed0338aea57a07ff54345e3b98858cf020e259e08430f8026a5a8c48367d5b109973edf5e2b10f1cc16f66a79d23bb725121e4a60926a30278d8054b5d6e17eb66f283a23e2283f913ad0e005eb0dd955891f7a80d2fce033e850ec6f818f014320e8c33a3ee4559023dcc98260a9bc993e81fcb9d183901fbd6d4467a529055d519f964336c8c8dc5a509fa22d900e651245645a13d8b06a39c7188325a0a8248abf35ef691f5f84d80fdbfb6adff95a405f9df430a9dc2a256a8b2eebfa1525b6f24e2b5a2fbf1b6f64129410d60875ee7c9faad1b957d674ef6a8832ccf3582cb20b45518b5880c4b28e59b37aa3db1e672d2f81896891f7b2934153d191f3e241e6852cb8c3b4fe3b5f9f49dcc6d15af8c53e43c310d37bf826b279442ce4f25dcb0a36613cbd1c6786d2696d1aa8509376572d1e4824c15aa525b72c4a66a2c54f540b92bdaeceaa0242df589f9b4c0d17de932590799bfc33386d991a89ef380439306103084e985492fce0593e7cea2cc4537e5abb142cc2bf0b4de5288a7afe852defb20f4b8f1993d6927ff7e73e423f95e20fc4fe874b318d1a62ff64b4013c334d099e37b859a66ce0f9092a197701f64ec28cc6ec5374b7ad51e79396f2e1657046534b4e980681f0428b1096ee8bcd5ca1b70c9d5d6f9cb744afc791ceb7cc4b303df1fcaf3fef4f1a6ac4b54693aa7411c18d47b1ee53fb26ba8d8b8161a7f190075ffd3ccc2c77c190501859ef7b32a4b95390625d6ec60492f90284d8e1905829850d3c4a46fc06d6f1fb1b5e14fd6e5394897f59848ab58ac5623106c1a2acb9305f4ef496d8815e55d52734b17657cbc8cb7611ec81d16e3a38e022f90b12b692942d95031cfcd4baaff6a5bb13bacb2ab4e788d29cc1e4bbc70427a8554a2111ee4518c503e13427a2546cb9c85e36d200896f97e327a31df77cc45d9a2badacb07a650b909e817a5513d3e4ff3edab2096a737b63168dd6f4c7fae1e1159673f2675fc1d32b3dec0b369a5f88e560f6d6964f3db340544ddb8d690365bafb657abc54092121b59b8b0302455063d3a7180547080df6e91178bdcb455267ec636447063f1ab0ea873f3be7843d1e0a54d81c8cc38495af91514a1f2dcf0b0453fe37def389bbbe461c5e9b66ccb3989458a2a1b6ead9a0fbd5ff83c03a3f49abd4e15d374821835b796fc31e0879d3a8b8914daa59fcc406a3bd203eeaddff184f9711db7bf35fb7149fb46da5fb4b3862d86624551256a0c5c31c85bed94f37fb7cc7673b0d4b4a2e1ee54442c1f357868ba3d0712fdca7c4f38bfca36ce7dc881949e0704eb538b46c96ed6f5d553608951055c7c60a82885b9b9d7ea3515ae16f3a6d98e947eed609307ba0a555c6c4c648a6e94bd7898ed5b47c96100d28b547e5d0eac8f0f99cd8fbdabf7cf10fa0ca5c9cf2efe6e295f931fe72eb37d9e236bed5c7d46c4da7a0adf50a2754338da10882d76ad616f3b1cbe03c91ef3236ba0fe1cf1933e57ef2671271a6a06d603121b93f6b692e7c7c91d37d29922ebcbe78a2b98a681e4feb9589bbc7ba7cf6fc6d9911506932928e45976f309ae40be57227f57e15b8e2f82868783fe39f5ee24b69d0bc3e6f20fd8df97ebd2641f53c14a4f78bf0bfc9c621d200ae5b84ffede1d6079713ef354d975223b350c1f3a708558a94581420b2499a18542aa6226636d6272be0509ae19e295649340b1f38a718805a5e9e52df59e42d599b6c682338e36fe92b9dee67da3812058595318f884fcb2eb68c97d4d7864e50d79f5e91849422cde40d3c45313cb94d4867ecf04e36b155cb9a1c8740cdc34276aea7ae334105bed65410ad6ad52d0538a71974dd6d0611d49e1a03701d79dea31d569969fa50d320df47618b17efa7ab5322276157b559eee6219a1859f178a289f122268ceb70e9064df24ba8d572d7600d87d2a3afb3f6dc3de93736ed3a44eb2e718f8212c31edfbd6175ef4c350ad6efd6cebf1afff7af0c59b2ab69cb6cf50306a637ab6cf6059695636e6f8c85331840620f9869df47c705c71fa0d544cfb397642e72ee8dfe49bb4b29835b2b07a4ed0873b024208945a1b0442661ed75de22dbb44454083f8024b1174bcaf39af0fc1c11b824c45e21e208897b503694c434d19a148b1dc0a0487c7a997515c5f8b5f7f9a9daee6a6be4aafd27ccfb325ac105184c07198cad2d07e1011cb13815a5f58029aae67a96dccb6f37ea97ba298ae45c2489769cfd8f1142530930c60790672416053afd52ec3ba70ffe86ab687fbe260d918ed9115db984a908a4686d50ab34dba7cfb0df1f7a981a1c569a94ad740e3b98db8b0e57369d1114b2a2f0e1223762caf92c5599f8890c6ee35657612584c87c7eaf01c635cb503d013be2d8c0cb01c2e5324d4771329fd4bc34f7336b16ddc5fa1b3e1997b5e36038168f6fe91468dde06177f93f86ce12d057fd784993efc409a8f2ec3ca8a3bf5411dadb790f7123d578ed48f236e192feaf80d532f7f1d880382b64ff8cc50c37cb91707264dc215588174f9b6cfe0433a4ae0f00240381e76abef04dda53272122a8d93a305e9a503872a9c6a8fb4212059499402bf6256657da3a4c73f2b93e1379d5ea81b93b25aa51583af77fc64f83651c3e9c67c746af29fd02c76f71508b2f67b9133cc248e4163ccf8acb9c2fdadc49ffc7783cbe227111e84539fd0bbdd064732bfd3198fc769ed0df8de1a5aae85232b2e952f7531315755434713e31a2a327b55822025e060cfacac4354555d687ec55a54a324909131e6622a960d795a8bdcea1a10efb15778378f07a0d08b6ecfa3e06e621299dcab09d09f1f657d85db0e394cdf3b021792e7996d4e6cdf10c1b731e46dc5fbde0262e5143d40b7c01efe709643a792b7413c0f3b1b60d3e88ddf8d97a72e7a60d85be25e540c32e90f31d60cff9896dea56ea2c79930dd44dad813d5b0f0b04c3f670daf1281ff045698428ac8c12734da14dc50cae5ceca0308098a2045801aa51ef23467f3d2da986001424ce165d4f98bb7535b7a8343b22f940c82c14bedafe7dadcef63c811e75753f1d8053b30f7628f431fb4afa2ffd9697e86ef14e9f48795b42d6d0b0a5a80ba23eff7106a711f67e80b9bd0a9d91a59a8c8452258f3d940d6062d8bbaa2a5f37b30bc6038da961909b31048fc0d9f23e9f60759a3508c30582cd407764a7ef9dadb0347840123b149a1f2370cf0bbf18aa7129116959b4ebe3dc27ea2566ae74af44dedbd778c9e5f552d0956566d6ddc28d98a71cb3951283acac9b7625f4ed0c536296eb7b0c593bfab2a5cdf1cb912679dc74f4fa7ab6d3e375139a71d261b9849c4e37a6d46defecf2ada3e3c45a1bc62eed9cbb3ac83b62d994fbea69f4c080b9cfad38758e56a6a0f1aee61a2bad099d7e141e39aa6ef909fa315102629980db491eb6cf7a033075fd56ea752b2689e35e26a99958031687c02f6ce8c3510242198728a0bf2f4d86f559a911992a5039ececc09c4c82fb1d45966034132877b6f8ff6266b24b0e548aa7f2e26465aa9022aba392dcef736852be29b1cd20cd997042fc7a201405a4b442c9d1ae1ae674e30b18afc0583957da1f5327feb2b576f8af2ecb45e3fc4865355d3070557c19320a5d93246483dc53129fb03899575802133b7d8ea5cd035b7ddd95f1751ce239a1a76186ea115776679341d854ba66fefd4262af4801fce4ed95beda18bbd6bfd9ec4978029cc701a309f135c2261fe64589eeb6cbb921f98659fa9d368281bf82d201156ea883850842bfb3e91bd316ce11fafce9fe6ac78aff59d282f4bce205282d0591d2f0cff0cdca161cb84e50714d8a70643a0f296b8132612097cf0f5cf2271fc28cb8c14b3d373bccfa76d7edaf707d44a1b431959c9dfaf3bb504208fae4d58b03b78049d03a022cd51a9846359ecb138c2c07239b4084ca854b1bb4bbc1f3bc676a2bc8fdab9698309e31dcfa3cd8fa4d058a0414f4532e5efecd8901efaa09a074bbfdde66a64442e47325e35471eb77430dbf7e81d41afbd83af6c7003417315a56323cf7575310f74bea9fc27ed3af0fef279203003450d357239da3a86bfd96cffd8bdc37cc7ddf8557cd3a3cafff360aa79f9241617c49755d6ee4afb620009c0b987075e1159326d616185a1d81f823423c06c3a81f07778efe5b0ac6ae60b97880dc764611022e5bbf64a64ff9b5d206710838c3dfde9909c75efafcb6f7d40562feb284dc290b509e084aed3b7a7f271e086b994e08a85b9394b2150d6bf06f2dd90c30560ec182c48e13bf4b048853baaf43e0347c47d751e9afcb475a0ff2148c172b803105a96e14c7cf313b22556690fb4bc4702b19f885b1c77bd03adab7df872ed2f1473563fbcacf854d199900cca40bcf390f66a6ec0085ec2795ea50f765bd28dc7c8a8668acad884df99c2516a98f3aeb9d77e945a1b042bae51f7d925b6a0a0feea4f3e13eb917c652262632f4192b87d0c6c193a0e52b7aa75cf042cf3fdd5a8de80f5aa218f5bd7763dc5bfa4594e747e2c3c6cb4d14df1d8255d70a33271f53d67b323fbc5326b78b5e62192a4109d677cabe4bc34c460e51a8bf7e4fe521dd42a8edd2351e5d23191a1966c80ff5c4f8938a5cb78a0c69af5805c0777e06e8ac232d930c69932b2bf2e60b364c46fb17d3acdea096f2e80a325c62121d89f392f9cc4846ad998853859de9963705a976de55b59b8701373a718dce8d4953a2cbdb8f9ff49eb0874be1a3985b270e2c36a0ea59fd132793bfc157eae37cf0f3c6d2b00d3c96692d496f407c44af05e6b35659749f94b736ba385d59360e6ee967058e8e1f2d4f388580a9bf3f7495c1443331baaeff14196ab430a906b7193fc55960bd78a05c199218e42471bb820f2bc147c8e7433d925637b9bd2e61308c7b21b5ed2d345fa0b91a83a6dfca540a2698b7056c2f36aa5187eb87c22d228ca1c01ce88903c11e0d53d1209c0ed44e32e9fd695f7f0e47b0919148836e3f5b8785ba695fec994d688d925cfb36e4ec73fd1948622f7fbd0e67e3a06fafb91a4f76c9a5795a028c5132275ce1b574a8aa246ca6d3d7a5bde2c625a25ec5a266b239109729fc6d154fc9c5e821cac9373b4591376022b7c371481899277d010ae0ceca251d2dd79f3ec97a536f5d76c64e6f28299343b4bcf74aba4d27d73abf4cc045f9005da2d2bf606c5909ca57253b83a4cb2ec211d93f35fabf475824cf77323cd97fe5666f49d23f1c9558bcebae76aa8458cb81b76099dd47502dab1b32b1703f321352e2d017c3488d57ec963ae99b79185d6576a727573f3a0c063ba43621e105473a88aaa00a0e5ac44bea7a97720324a1b3147c291bf6275daad0db771b449587a9b346c18113b11c3b912a13807270e447896470e3a8c79c13033e6c0769c45dd228af9b8d37783fe1fcb43fba1eddf26ab3fd48b51040fa170341d90165f12df04307b6a4026bedb455b8cd72bc7018c26c888e0a981b61f066626d91bec77e7bd936276eaa416918d2043c24001cafc35d71ce1d90dee083ff6e1706b07ba21fb3240b603024f9b14510a7288c7e10c30b3bfc32e76b2764584c9ca1b8c992187e356eae942b00215a8c275f78d6c9bd905f32cebf40f43f897324719e3dfcb99f1cc8ea678af36d7e9e326681421187e9a2dd7ea726b59a3ca911eda5e583fb1db0a9828f0aa183585f60fa042d89f240432c537b9427ec37daea3c6cdec1d21102ee0ff7422bf931cf7b487ff2762c393495bfe7c4ab99d9146968a333bbf6e80d7fc92573487399c8b4de4d2202fef9bf6d43608453f6e3b938af29af795979eca04db29ac8864d77c21bf9c3487d4670f6330ce8b8b689ffa789b04a1280d4f916729020c762051ebbc848e16c465e4d41981b312bd2cd530ea100aafd562b98525fcc4cfed0e1d8f5a6e51a80f31ec864c68229b06aca217841da24300a34d72a5cb1c6f7f87258b7af7838ccb2df42e1dbfba6883bf007d9e31403051ea4b3ae5f58ec521aaf29cc9159a2a6e5d61474d718371532a01f4f42691d90787836737ccd077f61d72278069209721882d2dca723986a09f1208941aae91ea27f4a3ce34ab19310c8cb75d9ceef0c5f34f89aed1cd1e70e4e134286a2095ee6b54dc2440cb3b58a0c5a6ae797cb4048365c92b04bb215674ce680e509748dfcc7f3c1630551724df70fd8bc358a2c104f53e5ffaae4cb0fe60e7f9974d97146318ca7a9074390b0d2917008e06d9a781c66685167b770c6759e1e3886b3cae8d10945eac928de66184f5788c79a180e3629a96519dbb7a539beae7786c936f56128b448841e8919e33a3fe7aff1d7884963e0757971a3fdb8b4f193e00577f152e583f610a0dcd70960167b7fdb5592e6841eb447f5428ab7331a8ded1f191d4bc4d16c8cd8102af3271e4bae589f5bf8ea24d3cd022f3f854d710b0798d86d778b78ff282deeef0d35674f34f326c509148cae4a407cb3d5bfd81e7b96de779d54ad2617b3619fa38c7dadda94a2ec24c01a8fdfe5fe99f26fc71beeef15b2ed0540fda07de2f3337af9a4f9f3cc0cd07d49c133a8e761df3495de7ac611f7194317e2a4abd7fea69629d81bb81aebd831f75a260c4fc6944983dbea3cd0166397cc4a26f401abdcc92fb09109c22082c6651b9d8ff4734517f07b94e535d03cfa7b494057d30c2bf7b3987b881fbf9c9d039d698f22d1326f3d1e89e6a44357eeee31743054eda8c251fbf8b808cdbc393de974f80e4a92d48071eb4cba2a2744a5b78c45fd989929b1ab93da1f858fd44f0bd2c9766bc9f6d0e5bc82d9dc18df0eb940208752194b99c6175a574dc2d5c99596ee074e649c8314649dc13a34507f670da445957503cda81bfe1eebbf885ca0b3cd7bb948c6e4ce01e26eb0fddc8a7bdc4fb37a7582209dfd992042f289d678511897791176e328c1a89d58f7283c1b529e1324ae782abc3f26fbb4ae9ce22eeeee87896a3652b5de8315e989cc5b19e0578e5c2a7ddaccd8607d8a6ce57a5031c2060eddfd3df3151f9c3988a9c332f794927c8949efd94566054c2ac6479598f6bba6f6e68af04f291706d37e184c1a9a9aef3c4bb2ace11498ba11f7086c4d680b274abbe3fd74e8579fb12daf2162d848f5ae83484f83f668bf1258e72f54068a377eb9f81af1245926c938850609fff2ebcbc1ec3adbcde1653c1135d57d00eddb7f73dea18f1534ed268b192feb37743d52d64ff6428ca8e9b7fae6f00c3a623a82f4e03244d21ffa220806fd3f126e3e901bdb4f51e4b64d10382e4882b7b035822062cceff94e949fa3f1bc593b9dee7d8b955c6790de961ef60072e44d866bce0af54bdcbdc133bd02ff1c8c6be70d9dec94d525da443b096549101e9f0f0cb1666e06c2e355607bc26a96bf057253e72aa9ce7c39158c12f11a8620d631f9932cd64705c2f99761eb874d81784af2212ab67e575baea4b075209fce50426716ceb89ce144cc7778ed8658f5c1d3c06e4e9ac8847d1a38f1ff75651147b0fb4d9dcb4a977e5a61825af4afdb45eeeb5c2d50078bdb957df94e8ab68caf500d5440a36dc031eedd73a5c56ccd6b315bdd95a55999a4e87861b94bb9192f38521dd0dba77580b92b4b6e717eebaaf3f00c2545d597ca30ccd760152349b95c2f72c149035a5ffaf6716d84654c63611bdd9570e728c1882841b990d198a28efcd9376fb30ebba1fb200437fcbc7647e8f75a3e0a6da764209120c8d2efc80a9a5b7df06271d291c43a9f98fc3dda344a407cb8754a2cc5e43573f9ece785fed56207d6faa59eec32f3cf6defa9ef6d2929e979b301c79a24102e29d61af7087492a6e0faedaa6f5228c4a5bde1d4b9f5d9192e120ad9def99057e44965bc30f4aaebdedfecdd980827bca837efd8bb8d5d7958ab853aca85285f99ccf5964ef8207ed4e1088d5119770f6b8e239a1eda4ef273f25ba7eb5a12b8d5121c6cd31b369ebaf0b77ca7e7c83594553191e63294456969ef9140ef8e9d260a2661370550ac635c87dfbcb5a1ce24bdb236a05a51e47d1fbce765efdb0aff9c25599eb80877b1c8c3a15c6acd6c4e2a7edd80699ef729cbfca2a28c2d6a1b18cad99612dede2df90b8fe416f9a7521cdb7a0315a5979a7926949e3b1f4b4f50ab84651bfb446879d75d5db51ea52df3e37fbab2d443aca43d748c8fb1cf1e9d9d089ab7f0d7467f01b284d3acdd1558de36675409a7067e48ff9bb35612883cc386cddcab47eac2b99cb636519de1027dd2be9c67408120fb52f8f48f0daf6bd632ae487cf5097462c586de1147800c5afd10a80bb57ccf8a8a1e6f94d240d915cd60576a6d94cb5157b814883ea91ba69755d50860d8708b90fa508cac2a2f736c9c66b6c9fb572014d4df17b8d1fd3ea5974d4645460532c9d814b6ff26d924d3fa8a30553bf8c677a6bd031b343f4872bec9f2f707545ec5c52cd4b27f8090b2e00333126009ff367a8f152ea74ee0327bff90a118480ed78d42fc87ec6d51e3ed2e5dec3b34452f570f425981086aa7f76b05796d75c7f74bc0a3d55762d0d07e46ca0a18c5d43cf8f2a2496713b5cb9695ed6d70de3b982f0ea57042115b1f04b5564efca61378f9f5991fcac2a9d97661f5f58842cd3f1494f395243df7a3b218bad2b522d1e9a5b088294b5b63533a9acfed2f3dcbfe1d3b6aa9acacb64a57e73d9a732a85009f448ebccbb14e704c2442db09983ec70f36dc269c8e8fea9b6aa58f6747bf9126611c3385c8bfcb0c0d16066abb4c23031d0dbf17e3c569cbcf08f9f8c7b25970958c94732f90e9a03a6289975dafd5ce4fe87cf536d3dacb367b65fed9e8f114cf690a14120ef7568f4acafa4f5e86ce4df9ed10d103440b329438f2f574a05095aaad8c5eac08702aed6fc6949e50de0ffe0cfba9cf8746062336e26399bcea2fe46bdd8820d262fa2dedaf9136099b09618fd2f70d514b99791bfbbecdacb475c76b7bd76c0f2c5d8ffe9d051fc2a29034663a8eec343e31e5d853bb1ce5c19adf8d1440667953f8b869e2c2fbd58fb9b578197718cf6132d711ba2757afe77f7def152e10604605361c30aeb8df175df16f02237cba5b26d0f2ded02a1427dc61896f6126ded51673668f63598877ee85025b3cb460790ae99fb9369ca9cb39a6656bf0dcf6e43d4c77ea4bf33ee3eca1a5c5b256c82122f0592a98480f676c2fd5461655c921e4d63c4c900383b39f29811a1074f224c97e7c88ad336b17233a28c56fa1a9f262a23bdcb6e1dbaef398cacd869c0bca59cd5c5452520f1b73ec60d0bb46186f96c7d3021579fec1a7aeb34407f8ba5a4236a59bab7ec5ffb8a75e0133655d6aacf492fc085d9cf1dccf9fb7532721b74de5d47c0049dd06a2e96039369059206b82978ce37f9767f77b1522468038d</script>  <div class="hbe hbe-content">    <div class="hbe hbe-input hbe-input-default">      <input class="hbe hbe-input-field hbe-input-field-default" type="password" id="hbePass">      <label class="hbe hbe-input-label hbe-input-label-default" for="hbePass">        <span class="hbe hbe-input-label-content hbe-input-label-content-default">Welcome to my blog, enter password to read.</span>      </label>    </div>  </div></div><script data-pjax src="/lib/hbe.js"></script><link href="/css/hbe.style.css" rel="stylesheet" type="text/css">]]></content>
    
    <summary type="html">
    
      Welcome to my blog, enter password to read.
    
    </summary>
    
      <category term="折腾笔记" scheme="https://yespace.xyz/categories/%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="测试" scheme="https://yespace.xyz/tags/%E6%B5%8B%E8%AF%95/"/>
    
      <category term="Latex" scheme="https://yespace.xyz/tags/Latex/"/>
    
  </entry>
  
  <entry>
    <title>VPS Ubuntu-18.04 个人配置</title>
    <link href="https://yespace.xyz/2019/12/24/VPS-Init-Config/"/>
    <id>https://yespace.xyz/2019/12/24/VPS-Init-Config/</id>
    <published>2019-12-24T14:41:48.000Z</published>
    <updated>2019-12-30T09:44:57.086Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>记录一下自己Ubuntu的基本配置，方便下次换VPS。emmm，在用docker前还是有必要的</p></blockquote><h2 id="简单跑个分"><a href="#简单跑个分" class="headerlink" title="简单跑个分"></a>简单跑个分</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> ssh root@server_address</span></span><br><span class="line">// https://teddysun.com/444.html 测试脚本</span><br><span class="line"><span class="meta">$</span><span class="bash"> wget -qO- bench.sh | bash</span></span><br></pre></td></tr></table></figure><a id="more"></a><p><img src="https://yes-images-1254021701.cos.ap-beijing.myqcloud.com/UTOOLS1577113398914.png" alt="UTOOLS1577113398914.png"></p><blockquote><p><a href="https://cloudcone.com" target="_blank" rel="noopener">CLOUDCONE</a> 促销活动，3$/月，KVM，1Gbps + 3T, 1 ipv4 + 3 ipv6</p></blockquote><h2 id="添加用户"><a href="#添加用户" class="headerlink" title="添加用户"></a>添加用户</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">//添加用户</span><br><span class="line"><span class="meta">$</span><span class="bash"> adduser username</span></span><br><span class="line">//将用户添加到 sudo 组</span><br><span class="line"><span class="meta">$</span><span class="bash"> adduser username sudo</span></span><br></pre></td></tr></table></figure><h2 id="修改-ssh-登录方式"><a href="#修改-ssh-登录方式" class="headerlink" title="修改 ssh 登录方式"></a>修改 ssh 登录方式</h2><h3 id="添加密钥到用户目录"><a href="#添加密钥到用户目录" class="headerlink" title="添加密钥到用户目录"></a>添加密钥到用户目录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> /home/username</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir .ssh/</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> touch .ssh/authorized_keys</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> vim .ssh/authorized_keys</span></span><br><span class="line">// 当前用户要加执行权限(x), 放私钥的话用700</span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod 744 -R .ssh/</span></span><br><span class="line">// 修改文件用户及用户组</span><br><span class="line"><span class="meta">$</span><span class="bash"> chown -R username:username .ssh/</span></span><br></pre></td></tr></table></figure><h3 id="关闭密码登录"><a href="#关闭密码登录" class="headerlink" title="关闭密码登录"></a>关闭密码登录</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> vim /etc/ssh/sshd_config</span></span><br><span class="line">//修改为以下内容</span><br><span class="line">PermitRootLogin         prohibit-password</span><br><span class="line">AuthorizedKeysFile      .ssh/authorized_keys .ssh/authorized_keys2</span><br><span class="line">PasswordAuthentication  no</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//重启ssh服务</span><br><span class="line"><span class="meta">$</span><span class="bash"> systemctl restart sshd.service</span></span><br></pre></td></tr></table></figure><p>退出以 <code>username</code> 登录</p><h2 id="安装zsh-及-oh-my-zsh"><a href="#安装zsh-及-oh-my-zsh" class="headerlink" title="安装zsh 及 oh-my-zsh"></a>安装zsh 及 oh-my-zsh</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//apt 更新及安装 zsh</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt update</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt upgrade</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt-get install zsh</span></span><br><span class="line">//更改当前用户终端shell</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo usermod -s /usr/bin/zsh $(whoami)</span></span><br></pre></td></tr></table></figure><p>重启终端<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//安装 git</span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo apt install git</span></span><br><span class="line">//安装oh-my-zsh</span><br><span class="line"><span class="meta">$</span><span class="bash"> sh -c <span class="string">"<span class="variable">$(wget https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh -O -)</span>"</span></span></span><br><span class="line">//安装 zsh-syntax-highlighting 插件</span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> https://github.com/zsh-users/zsh-syntax-highlighting.git <span class="variable">$&#123;ZSH_CUSTOM:-~/.oh-my-zsh/custom&#125;</span>/plugins/zsh-syntax-highlighting</span></span><br></pre></td></tr></table></figure></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//修改zsh配置文件</span><br><span class="line"><span class="meta">$</span><span class="bash"> vim .zshrc</span></span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 自动命令矫正</span><br><span class="line">ENABLE_CORRECTION=&quot;true&quot;</span><br><span class="line"># 蛋白连接酶主题</span><br><span class="line">ZSH_THEME=&quot;bira&quot;</span><br><span class="line">plugins=(</span><br><span class="line">  git extract zsh-syntax-highlighting</span><br><span class="line">)</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">//使配置生效</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">source</span> ~/.zshrc</span></span><br></pre></td></tr></table></figure><p><img src="https://yes-images-1254021701.cos.ap-beijing.myqcloud.com/UTOOLS1577114993252.png" alt="UTOOLS1577114993252.png"></p><h2 id="开启BBR"><a href="#开启BBR" class="headerlink" title="开启BBR"></a>开启BBR</h2><p>首先查看一下系统内核版本：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> uname -r</span></span><br></pre></td></tr></table></figure></p><p>输出：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4.15.0-50-generic</span><br></pre></td></tr></table></figure></p><p>该版本大于Linux4.9，所以可以直接开启BBR。<br>（这里要说明一下，有些云服务器商的定制系统即便内核大于4.9，在键入lsmod |grep bbr命令后并不会直接显示内置tcp_bbr模块，但实际是有的。）</p><p>下面输入如下命令，从而开启BBR功能：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"net.core.default_qdisc=fq"</span> &gt;&gt; /etc/sysctl.conf</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">echo</span> <span class="string">"net.ipv4.tcp_congestion_control=bbr"</span> &gt;&gt; /etc/sysctl.conf</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sysctl -p</span></span><br></pre></td></tr></table></figure></p><p>输出：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">net.core.default_qdisc = fq</span><br><span class="line">net.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure></p><p>重启主机系统：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> reboot</span></span><br></pre></td></tr></table></figure></p><p>待系统重启完毕后，检查系统是否成功编译开启了tcp_bbr模块：<br>键入命令：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sysctl net.ipv4.tcp_available_congestion_control</span></span><br></pre></td></tr></table></figure></p><p>输出：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> net.ipv4.tcp_available_congestion_control = reno cubic bbr</span></span><br></pre></td></tr></table></figure></p><p>键入命令：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> sysctl net.ipv4.tcp_congestion_control</span></span><br></pre></td></tr></table></figure></p><p>输出<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net.ipv4.tcp_congestion_control = bbr</span><br></pre></td></tr></table></figure></p><p>键入命令：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> lsmod |grep bbr</span></span><br></pre></td></tr></table></figure></p><p>输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tcp_bbr 20480  2</span><br></pre></td></tr></table></figure></p><p>如果输出信息正确，则说明已成功开启了BBR功能。</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;记录一下自己Ubuntu的基本配置，方便下次换VPS。emmm，在用docker前还是有必要的&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;简单跑个分&quot;&gt;&lt;a href=&quot;#简单跑个分&quot; class=&quot;headerlink&quot; title=&quot;简单跑个分&quot;&gt;&lt;/a&gt;简单跑个分&lt;/h2&gt;&lt;figure class=&quot;highlight shell&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; ssh root@server_address&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;// https://teddysun.com/444.html 测试脚本&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;bash&quot;&gt; wget -qO- bench.sh | bash&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="折腾笔记" scheme="https://yespace.xyz/categories/%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="操作系统" scheme="https://yespace.xyz/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
      <category term="VPS" scheme="https://yespace.xyz/tags/VPS/"/>
    
  </entry>
  
  <entry>
    <title>德国之行（二）——Cyber Security</title>
    <link href="https://yespace.xyz/2018/07/17/DUT-HPI-2/"/>
    <id>https://yespace.xyz/2018/07/17/DUT-HPI-2/</id>
    <published>2018-07-17T14:08:48.000Z</published>
    <updated>2019-12-30T10:09:41.326Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>10:08 pm 17.07.2018（GET+2）——DUT-HPI夏令营德国之行第九天；<br>在HPI听了几天关于网络安全的课程，虽然英语水平有限听得很勉强，但还是学到了一些有趣的东西，基本都是一些Hands-On的内容，这里简单做个笔记…<br><a id="more"></a></p></blockquote><h2 id="一、Find-“flag”"><a href="#一、Find-“flag”" class="headerlink" title="一、Find “flag”"></a>一、Find “flag”</h2><blockquote><p>主要接触到了三种情况</p></blockquote><h3 id="HTML内置flag"><a href="#HTML内置flag" class="headerlink" title="HTML内置flag"></a>HTML内置flag</h3><p>这种情况比较简单，在浏览器中查看网页源代码，寻找关键词就行，可能涉及到一些http的基础知识，这里不详细介绍了；</p><h3 id="NTFS隐藏文件"><a href="#NTFS隐藏文件" class="headerlink" title="NTFS隐藏文件"></a>NTFS隐藏文件</h3><p><strong>隐藏文件：</strong>在任一NTFS分区下打开CMD，输入:<code>echo abcde a.txt:b.txt</code>，则在当前目录下会生成一个名为<code>a.txt</code>的文件，但文件的大小为0字节，打开后也无任何内容，只有输入命令：<code>notepad a.txt:b.txt</code>才能看见写入的<code>abcde</code>，也可以使用<code>type</code>命令进行隐藏，比如：<code>type 1.jpg 2.abc:1.jpg</code>，表示将<code>1.jpg</code>的内容写入到<code>2.abc:1.jpg</code>这个流文件中。<br><strong>隐藏木马：</strong>与隐藏文件同理，<code>type muma.exe2.jpg:muma.exe</code>，将<code>muma.exe</code>写入到<code>2.jpg:muma.exe</code>这个流文件中，打开的时候则：<code>start</code>流文件绝对路径，上例是：<code>start c:/2.jpg:muma.exe</code>；不然会提示参数不正确。</p><p><strong>Note:</strong></p><ul><li>流文件不能直接通过网络传输，必须使用<code>WinRAR</code>在压缩时勾上高级选项中“保存文件流数据”才行；</li><li>制作好的流文件大小跟原文件是一样的，只在压缩后才包含隐藏文件的大小，说明<code>NTFS</code>文件流仍然会占用磁盘空间；</li><li>流文件只能在<code>NTFS</code>分区储存和运行(压缩“保存文件流数据”也可储存到<code>FAT32</code>，但解压出来的文件依然是丢失了数据流的文件)，一旦放到其它的文件系统中，即使再放回来，<code>NTFS</code>数据流也会丢失，Hands on的时候就遇到了解压文件后看不到隐藏文件的情况，重新解压覆盖才行（具体原因不解）；</li></ul><h3 id="简单文本加密"><a href="#简单文本加密" class="headerlink" title="简单文本加密"></a>简单文本加密</h3><blockquote><p>几种常见的加密方式</p></blockquote><h4 id="Base64"><a href="#Base64" class="headerlink" title="Base64"></a>Base64</h4><p><code>Base64</code>是一种基于64个可打印字符来表示二进制数据的表示方法。由于<code>2^6=64</code>，所以每6个比特为一个单元，对应某个可打印字符。3个字节有24个比特，对应于4个<code>Base64</code>单元，即3个字节可由4个可打印字符来表示。<br><strong>算法简述：</strong>转换的时候，将3字节的数据，先后放入一个24位的缓冲区中，先来的字节占高位。数据不足3字节的话，于缓冲器中剩下的比特用0补足。每次取出6比特（因为 <code>2^6 = 64</code>），按照其值选择<code>ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/</code>中的字符作为编码后的输出，直到全部输入数据转换完成。若原数据长度不是3的倍数时且剩下1个输入数据，则在编码结果后加2个=；若剩下2个输入数据，则在编码结果后加1个=。</p><h4 id="Rot13"><a href="#Rot13" class="headerlink" title="Rot13"></a>Rot13</h4><p>套用<code>ROT13</code>到一段文字上仅仅只需要检查字符字母顺序并取代它在13位之后的对应字母，有需要超过时则重新绕回26英文字母开头即可。 A换成N、B换成O、依此类推到M换成Z，然后序列反转：N换成A、O换成B、最后Z换成M。只有这些出现在英文字母里头的字符受影响；数字、符号、空白字符以及所有其他字符都不变。因为只有在英文字母表里头只有26个，并且<code>26 = 2 × 13</code>，<code>ROT13</code>函数是它自己的逆反。</p><h4 id="MD5"><a href="#MD5" class="headerlink" title="MD5"></a>MD5</h4><p><strong>算法简述：</strong><code>MD5</code>以<code>512</code>位分组来处理输入的信息，且每一分组又被划分为16个32位子分组，经过了一系列的处理后，算法的输出由四个32位分组组成，将这四个32位分组级联后将生成一个<code>128</code>位散列值。<br><strong>特点：</strong>理论上是单向加密，不可逆。<strong>但是</strong>，1996年后被证实存在弱点，可以被加以破解，对于需要高度安全性的数据，一般建议改用其他算法，如<code>SHA-2</code>。2004年，证实<code>MD5</code>算法无法防止碰撞，因此不适用于安全性认证，如<code>SSL公开密钥认证</code>或是<code>数字签名</code>等用途。现在软件也有很多<code>MD5</code>的破解工具，基本原理都是暴力的字典遍历，如果密文比较简单，很快就能碰撞出来。</p><blockquote><p>虽然上述的文本加密方式都比较简单，但实际上再复杂的加密方式都保护不了像<code>“123456”</code>这样的文本！:joy:</p></blockquote><h2 id="二、网络嗅探"><a href="#二、网络嗅探" class="headerlink" title="二、网络嗅探"></a>二、网络嗅探</h2><h3 id="Shodan"><a href="#Shodan" class="headerlink" title="Shodan"></a>Shodan</h3><p><a href="https://www.shodan.io/" target="_blank" rel="noopener">Shodan.io</a>是互联网上“最可怕的搜索引擎”，与谷歌不同的是，<code>Shodan</code>不是在网上搜索网址，而是直接进入互联网的背后通道。<code>Shodan</code>可以说是一款“黑暗”谷歌，一刻不停的在寻找着所有和互联网关联的服务器、摄像头、打印机、路由器等等。每个月<code>Shodan</code>都会在大约5亿个服务器上日夜不停地搜集信息。比如：此网站<a href="https://www.shodan.io/search?query=yespace.xyz" target="_blank" rel="noopener">Yespace</a>就被记录在了<code>Shodan</code>的数据库中:disappointed_relieved:，<code>Shodan</code>可以利用简单的语法进行搜索，比如：搜索<code>“大连理工大学范围内的主机”</code>可以搜索<a href="https://www.shodan.io/search?query=org%3A%22Dalian+University+of+Technology%22" target="_blank" rel="noopener">org:”Dalian University of Technology”</a>，常用关键词见下表：</p><table><thead><tr><th>关键词</th><th>作用</th></tr></thead><tbody><tr><td>hostname</td><td>搜索指定的主机或域名，例如 hostname:"google"</td></tr><tr><td>port</td><td>搜索指定的端口或服务，例如 port:"80"</td></tr><tr><td>country</td><td>搜索指定的国家，例如 country:"CN"</td></tr><tr><td>city</td><td>搜索指定的城市，例如 city:"Dalian"</td></tr><tr><td>org</td><td>搜索指定的组织或公司，例如 org:"google"</td></tr><tr><td>isp</td><td>搜索指定的ISP供应商，例如 isp:"China Telecom"</td></tr><tr><td>product</td><td>搜索指定的操作系统/软件/平台，例如 product:"Apache httpd"</td></tr><tr><td>version</td><td>搜索指定的软件版本，例如 version:"1.6.2"</td></tr><tr><td>geo</td><td>搜索指定的地理位置，例如 geo:"31.8639, 117.2808"</td></tr><tr><td>before/after</td><td>搜索指定收录时间前后的数据，格式为dd-mm-yy，例如 before:”18-07-18”</td></tr><tr><td>net</td><td>搜索指定的IP地址或子网，例如 net:"210.45.240.0/24"</td></tr></tbody></table><blockquote><p><strong>#补充#：</strong>Shodan的具(ru)体(keng)介(zhi)绍(nan)可以参考一下这篇文章<a href="https://xiaix.me/shodan-xin-shou-ru-keng-zhi-nan/" target="_blank" rel="noopener">https://xiaix.me/shodan-xin-shou-ru-keng-zhi-nan</a></p></blockquote><p>—————分割线—————-</p><blockquote><p>10:38 pm 20.07.2018（GET+2）——DUT-HPI夏令营德国之行第十二天，继续更；</p></blockquote><p>如果说上面使用的<code>Shodan</code>搜索是利用别人爬取好的数据来获取信息，那下面的几种方式就是自己利用一些工具来进行网络嗅探</p><h3 id="DNS信息查询"><a href="#DNS信息查询" class="headerlink" title="DNS信息查询"></a>DNS信息查询</h3><p>DNS（Domain Name System）常用的大概有6种解析记录类型：</p><div align="center">|名称|解释||:---:|:---:||A记录|记录域名对应的IPV4地址||AAAA记录|记录域名对应的IPV6地址||MX记录|记录域名对应的邮件服务地址||NS记录|记录由哪个DNS服务器解析你的域名||CNAME记录|别名解析，可以将不同域名都解析到一个域名上||TXT记录|记录一些主机或域名情况的说明|</div><p><strong>Nslookup</strong><br><code>nslookup</code>是用来监测网络中<code>DNS</code>服务器是否可以实现域名解析的工具，简单来说可以获取域名对应的<code>ip</code>。与<code>ping</code>的区别在于，<code>nslookup</code>返回的结果更丰富，而且主要针对<code>DNS</code>服务器的排错，收集<code>DNS</code>服务器的信息。（其实<code>ping</code>的过程也去请求了<code>dns</code>的记录，然后对<code>ip</code>发送<code>ICMP</code>数据包）</p><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/nslookup_test.png" alt></p><p><code>nslookup</code>在<code>Linux shell</code>中的交互式使用（当然使用不同的参数可以查询不同的记录类型）&lt;/p&gt;</p><h3 id="Nmap端口扫描"><a href="#Nmap端口扫描" class="headerlink" title="Nmap端口扫描"></a>Nmap端口扫描</h3><p><code>Nmap</code>是一款非常强大的端口扫面工具，可以检测目标主机是否在线、端口开放情况、侦测运行的服务类型及版本信息、侦测操作系统与设备类型等信息。具体使用方式可以查看<a href="https://nmap.org/man/zh/index.html" target="_blank" rel="noopener">Nmap参考指南</a>，下面列一些常用的轻量级端口扫描命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ nmap -sP 192.168.1.0/24     //判断哪些主机存活</span><br><span class="line">$ nmap -sT 192.168.1.3        //开放了哪些端口</span><br><span class="line">$ nmap -sS 192.168.1.127      //开放了哪些端口（隐蔽扫描）</span><br><span class="line">$ nmap -sU 192.168.1.127      //开放了哪些端口（UDP）</span><br><span class="line">$ nmap -sS -O  192.168.1.127  //操作系统识别</span><br><span class="line">$ nmap -sT -p 80 -oG – 192.168.1.* | grep open        //列出开放了指定端口的主机列表</span><br><span class="line">$ nmap -sV -p 80 yespace.xyz      //列出服务器类型(列出操作系统，开发端口，服务器类型,网站脚本类型等)</span><br></pre></td></tr></table></figure><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/nmap_test.png" alt></p><h3 id="APR攻击-Man-In-The-Middle系列"><a href="#APR攻击-Man-In-The-Middle系列" class="headerlink" title="APR攻击(Man-In-The-Middle系列)"></a>APR攻击(Man-In-The-Middle系列)</h3><p>这一部分的内容当时只是观看了演示，其基本原理就是使用<code>Arpspoof</code>工具在客户端和服务端之间的<code>Internet Layer</code>上建立第三方代理<code>MITM(Man-In-The-Middle)</code>，从而实现对网络数据流的监控。在<code>kali</code>中的实现可以参考<a href="https://wizardforcel.gitbooks.io/daxueba-kali-linux-tutorial/content/58.html" target="_blank" rel="noopener">这篇文章</a>，实际上当时的演示实验就是这个步骤。</p><h3 id="密码破解"><a href="#密码破解" class="headerlink" title="密码破解"></a>密码破解</h3><p>基本过程就是使用<code>John the Ripper</code>工具对<code>Hash</code>后的密文进行crack，<code>John</code>包含了四种破解模式，具体说明可以参考官方文档<a href="http://www.openwall.com/john/doc/MODES.shtml" target="_blank" rel="noopener">模式说明</a>，这里简单提一下用到的两种基本模式：</p><ul><li><strong>字典模式：</strong>就是使用现有的“经验字典”来进行碰撞，只要字典足够强大…（你懂的，“强大”这种东西永远没有确切定义，反正能破解出来就是好使→_→）；然后，<code>/usr/share/wordlists/</code>这个目录下包含了<code>kali</code>中的一些内置字典，对于基本的密码破解已经足够了。</li><li><strong>增量模式：</strong>属于<code>John</code>的一种高级用法，属于暴力破解范畴，这个破解模式会尝试所有的字符组合，然后作为密码来破解，当然时间是相当久的；其命令关键词是<code>--incremental</code>。</li></ul><h2 id="三、Web攻击"><a href="#三、Web攻击" class="headerlink" title="三、Web攻击"></a>三、Web攻击</h2><h3 id="ZAP基本使用"><a href="#ZAP基本使用" class="headerlink" title="ZAP基本使用"></a>ZAP基本使用</h3><p><a href="https://www.owasp.org/index.php/OWASP_Zed_Attack_Proxy_Project" target="_blank" rel="noopener">OWASP ZAP</a>是一个易于使用交互式的用于<code>web漏洞挖掘</code>的渗透测试工具，在Hands-On中我们主要使用了它的截断代理功能。基本实现步骤如下：</p><ul><li>首先，设置浏览器代理，<code>ZAP</code>默认监听的是本地的<code>8080</code>端口（即：<code>127.0.0.1:8080</code>），在浏览器中设置http代理后<code>ZAP</code>就自动爬取所有数据，具体方法这里就不赘述了。</li><li>设置代理后<code>ZAP</code>就可以自动获取该端口上的所有数据并显示，也可以通过设置中断，来修改提交的数据（当然<code>ZAP</code>是建立在<code>Application-Layer</code>上的，所以如果拦截使用<code>SSL</code>加密后的数据就没有什么意义了…）。</li><li>当然，<code>ZAP</code>最强大的还是在于它的主动扫描功能了，它可以自动对目标网站发起渗透测试，可以检测的缺陷包括路径遍历、文件包含、跨站脚本、sql注入等等。</li></ul><h3 id="Web-Goat实战"><a href="#Web-Goat实战" class="headerlink" title="Web-Goat实战"></a>Web-Goat实战</h3><p><code>WebGoat</code>是一个渗透破解的习题教程,分为简单版和开发版,<a href="https://github.com/WebGoat/WebGoat" target="_blank" rel="noopener">GitHub地址</a>，下载后自行安装即可，<a href="http://www.vuln.cn/6544" target="_blank" rel="noopener">这里</a>有一篇比较好的文章可以参考一下，从Project安装到部分实战都有涉及，这个我就不bb了</p><h2 id="四、网络攻防"><a href="#四、网络攻防" class="headerlink" title="四、网络攻防"></a>四、网络攻防</h2><h3 id="Aircrack-ng破解无线网络"><a href="#Aircrack-ng破解无线网络" class="headerlink" title="Aircrack-ng破解无线网络"></a>Aircrack-ng破解无线网络</h3><p>这个我认为是所有Hands-On中最有实用价值的环节了，没事破解一下别人的<code>wifi</code>密码还挺有意思的:smile:，不过如果你是在虚拟机中跑<code>Kali</code>的话首先你需要一块无线网卡作为硬件支持，使用本机的物理网卡的话驱动不一定支持…<br>下面是破解WiFi密码的一些基本命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">//杀死可能干扰的进程</span><br><span class="line">$ airmon-ng check <span class="built_in">kill</span></span><br><span class="line"></span><br><span class="line">//以monitor模式开启无线网卡</span><br><span class="line">$ ifconfig wlan0 down</span><br><span class="line">$ iwconfig wlan0 mode monitor</span><br><span class="line">$ ifconfig wlan0 up</span><br><span class="line"></span><br><span class="line">//搜索附近的无线网络</span><br><span class="line">airodump-ng wlan0</span><br></pre></td></tr></table></figure><p>这里需要记录一下你想要破解的目标的<code>CLIENT_BSSID</code>和<code>WIFI_CHANNEL</code>，后续需要使用。然后就是抓包环节了，由于只有在设备和路由建立连接的握手包中才会包含<code>wifi</code>密码的哈希值，所以下面抓包的主要目的就是要抓这个握手包。如果在抓包的过程中没有设备连接的话，是抓不到握手包的，这时就要手动制造连接，由于但是一般设备在断开连接后都会有自动连接，所以可以先把其中一个设备踢出去，让它再次连接，这样我们就可以抓住这个<code>shake</code>包。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">//开始抓包，注意替换一些变量</span><br><span class="line">$ airodump-ng wlan0 --channel WIFI_CHANNEL --bssid ROUTER_BSSID -w TEST_FILE--ignore-negative-one</span><br><span class="line"></span><br><span class="line">//同时将某个客户端踢出</span><br><span class="line">$ aireplay-ng --deauth 100 -a ROUTER_BSSID -c CLIENT_BSSID --ignore-negative-one wlan0</span><br><span class="line"></span><br><span class="line">//利用字典，暴力crack密码</span><br><span class="line">$ aircrack-ng -w passwords.lst -b ROUTER_BSSID TEST_FILE.cap&lt;/pre&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;10:08 pm 17.07.2018（GET+2）——DUT-HPI夏令营德国之行第九天；&lt;br&gt;在HPI听了几天关于网络安全的课程，虽然英语水平有限听得很勉强，但还是学到了一些有趣的东西，基本都是一些Hands-On的内容，这里简单做个笔记…&lt;br&gt;
    
    </summary>
    
      <category term="计算机" scheme="https://yespace.xyz/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA/"/>
    
    
      <category term="德国" scheme="https://yespace.xyz/tags/%E5%BE%B7%E5%9B%BD/"/>
    
      <category term="网络" scheme="https://yespace.xyz/tags/%E7%BD%91%E7%BB%9C/"/>
    
  </entry>
  
  <entry>
    <title>德国之行（一）——About Life</title>
    <link href="https://yespace.xyz/2018/07/13/DUT-HPI-1/"/>
    <id>https://yespace.xyz/2018/07/13/DUT-HPI-1/</id>
    <published>2018-07-13T14:08:48.000Z</published>
    <updated>2019-12-25T09:14:38.656Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>9:07 pm 13.07.2018（GET+2）——DUT-HPI夏令营德国之行第四天；<br>倒过时差后人也比较清醒了，毕竟是第一次跨过The Great Wall，闲来无聊记点东西吧…</p></blockquote><p>经过好一翻折腾，到达了<strong>Potsdam</strong>（准确地说是柏林与勃兰登堡洲的交界）。环境没什么好说的，现代化老牌发达国家的气质<br><a id="more"></a></p><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/IMG_0793.jpg" width="80%" alt="图片名称" align="center"></p><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/IMG_0801.jpg" width="80%" alt="图片名称" align="center"></p><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/IMG_0809.jpg" width="80%" alt="图片名称" align="center"></p><p style="text-align: center;">（随手拍 + 未处理组图）</p><blockquote><p>唯一吐槽的是，夏令时北纬50°这白天也太长了吧!</p></blockquote><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/IMG_0807.jpg" width="80%" alt="图片名称" align="center"></p><p style="text-align: center;">（摄于德国时间21:41/09.07.2018）</p><hr><h4 id="关于体验"><a href="#关于体验" class="headerlink" title="关于体验"></a>关于体验</h4><p>得天独厚充满自然气息的环境，德意志联邦体系下精致的美式校园，确实别有特色（其实就是见识少，觉得啥都新鲜!）不大但五脏俱全，容纳500人足以的研究型学院。</p><p>结合这四天的体验来看，总体上给我的感觉就是“慢”吧，早上9点开始才工作对于一个天朝的大学生来说都是挺羡慕的吧[/偷笑]。从细节上看，无论是水池的排水速度，还是自动门窗的阻尼，都给人一种仪式感、时间滞怠的感觉。在这里还要感谢过去折腾的两年，所以虽然英语不太好，课程听起来还不是很费劲，期待下次实践课，作为工科生感觉挺有意思！[/偷笑]</p><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/HPI.gif" width="80%" alt="图片名称" align="center"></p><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/IMG_0912.jpg" width="80%" alt="图片名称" align="center"></p><h4 id="关于饮食"><a href="#关于饮食" class="headerlink" title="关于饮食"></a>关于饮食</h4><p>尝尽四天酸甜辣咸的“人间美味”后不禁流下泪水:sob:，虽然已经被安排地无微不至了，但请原谅我作为一个传统亚洲人的味觉真的接受不了这么重地口味，被各种奇怪地酱料支配……</p><p><img src="https://yespace-1254021701.cos.ap-beijing.myqcloud.com/images/IMG_0897.jpg" width="80%" alt="图片名称" align="center"></p><p style="text-align: center;">（随手拍系列，勉强还能接受的早餐）</p>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;9:07 pm 13.07.2018（GET+2）——DUT-HPI夏令营德国之行第四天；&lt;br&gt;倒过时差后人也比较清醒了，毕竟是第一次跨过The Great Wall，闲来无聊记点东西吧…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;经过好一翻折腾，到达了&lt;strong&gt;Potsdam&lt;/strong&gt;（准确地说是柏林与勃兰登堡洲的交界）。环境没什么好说的，现代化老牌发达国家的气质&lt;br&gt;
    
    </summary>
    
      <category term="足迹" scheme="https://yespace.xyz/categories/%E8%B6%B3%E8%BF%B9/"/>
    
    
      <category term="德国" scheme="https://yespace.xyz/tags/%E5%BE%B7%E5%9B%BD/"/>
    
      <category term="生活" scheme="https://yespace.xyz/tags/%E7%94%9F%E6%B4%BB/"/>
    
  </entry>
  
  <entry>
    <title>RaspberryPI Ubuntu-Mate基本配置</title>
    <link href="https://yespace.xyz/2018/06/29/Raspberrypi/"/>
    <id>https://yespace.xyz/2018/06/29/Raspberrypi/</id>
    <published>2018-06-29T01:41:48.000Z</published>
    <updated>2019-12-30T10:09:11.456Z</updated>
    
    <content type="html"><![CDATA[<h2 id="树莓派-3B"><a href="#树莓派-3B" class="headerlink" title="树莓派 3B"></a>树莓派 3B</h2><p>最近研究了一下新“玩具”（RaspberryPi 3B)，尝试了官方的<a href="https://www.raspberrypi.org/downloads/raspbian/" target="_blank" rel="noopener">RASPBIAN</a>，感觉不是很好用，特别是蓝牙的配置，最后果断转战了熟悉的<a href="http://ubuntu-mate.org/download/" target="_blank" rel="noopener">Ubuntu-Mate</a>。</p><a id="more"></a><blockquote><p>这里补充一下，RASPBIAN的CPU性能优化应该是所有稳定版系统中最好的，至少在Ubuntu-Mate上的CPU调度机制有问题。</p></blockquote><h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>在官网下载了最新的16.04版本，使用<a href="https://sourceforge.net/projects/win32diskimager/files/latest/download" target="_blank" rel="noopener">Win32DiskImager</a>烧录进TF卡，插到树莓派上，上电开机就OK了（如果开机失败，基本上都是供电的问题，建议更换适配器和usb线），整个安装过程还是比较简单的。</p><blockquote><p>然后就是配置部分，下面记录一些我的基本配置（基本上就是怕自己忘了做个备份…）</p></blockquote><h3 id="设置root密码"><a href="#设置root密码" class="headerlink" title="设置root密码"></a>设置root密码</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberry:~$ sudo passwd     //首次配置root密码</span><br><span class="line">pi@raspberry:~$ su root         //切换root用户</span><br></pre></td></tr></table></figure><h3 id="配置SSH服务"><a href="#配置SSH服务" class="headerlink" title="配置SSH服务"></a>配置SSH服务</h3><p>由于ubuntu-mate已经预装了ssh-server，直接配置服务就行<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberry:~$ sudo nano /etc/ssh/sshd_config  //修改ssh配置文件</span><br><span class="line">PermitRootLogin yes                             //可以使用root用户进行远程登陆</span><br><span class="line">start on filesystem or runlevel [2345]          //开机自启</span><br><span class="line">pi@raspberry:~$ sudo /etc/init.d/ssh restart或sudo service ssh restart //重启ssh服务</span><br></pre></td></tr></table></figure></p><h3 id="修改镜像源"><a href="#修改镜像源" class="headerlink" title="修改镜像源"></a>修改镜像源</h3><p>由于ubuntu默认的镜像站速度不是很理想，可以考虑更换国内的镜像站，亲测清华<a href="https://mirrors.tuna.tsinghua.edu.cn/" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn/</a>和中科大<a href="https://mirrors.ustc.edu.cn/" target="_blank" rel="noopener">https://mirrors.ustc.edu.cn/</a>的在教育网内速度都还可以，其它的没试过。<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberry:~$ sudo nano /etc/apt/sources.list&lt;/pre&gt;</span><br></pre></td></tr></table></figure></p><blockquote><p>修改为下面的内容：</p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial main restricted universe mu$</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial main restricted univers$</span><br><span class="line"></span><br><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial-updates main restricted uni$</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial-updates main restricted$</span><br><span class="line"></span><br><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial-security main restricted un$</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial-security main restricte$</span><br><span class="line"></span><br><span class="line">deb http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial-backports main restricted u$</span><br><span class="line">deb-src http://mirrors.ustc.edu.cn/ubuntu-ports/ xenial-backports main restrict$</span><br></pre></td></tr></table></figure><p><strong>然后更新软件源（这里时间可能比较长）</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberry:~$ sudo apt-get update</span><br><span class="line">pi@raspberry:~$ sudo apt-get upgrade</span><br></pre></td></tr></table></figure></p><p><strong>更新完之后重启系统</strong><br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberry:~$ sudo reboot</span><br></pre></td></tr></table></figure></p><h2 id="HTPDATE同步时间"><a href="#HTPDATE同步时间" class="headerlink" title="HTPDATE同步时间"></a>HTPDATE同步时间</h2><p>树莓派的时间同步是一个麻烦的问题，首先树莓派没有独立的电源用于保存时间设置，所以每次系统重启后系统时间都得重新设置，而且由于各地网络状况不同，NTP时间同步服务很可能都被墙了，于是就有人开发出了通过HTTP报头信息来进行时间同步的服务（会有1~2s的延时…）。</p><h3 id="HTPDATE安装"><a href="#HTPDATE安装" class="headerlink" title="HTPDATE安装"></a>HTPDATE安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">//下载源码</span><br><span class="line">pi@raspberry:~$ git clone https://github.com/iridium77/htpdate.git</span><br><span class="line">pi@raspberry:~$ cd htpdate</span><br><span class="line">//编译</span><br><span class="line">pi@raspberry:~$ sudo make</span><br><span class="line">//安装</span><br><span class="line">pi@raspberry:~$ sudo make install</span><br><span class="line">//同步时间</span><br><span class="line">pi@raspberry:~$ sudo htpdate -t -s ntp.neu.edu.cn</span><br></pre></td></tr></table></figure><h3 id="设置开机自启"><a href="#设置开机自启" class="headerlink" title="设置开机自启"></a>设置开机自启</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberry:~$ sudo vim /etc/rc.local</span><br><span class="line">//在exit 0前加上</span><br><span class="line">htpdate -t -s ntp.neu.edu.cn</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;树莓派-3B&quot;&gt;&lt;a href=&quot;#树莓派-3B&quot; class=&quot;headerlink&quot; title=&quot;树莓派 3B&quot;&gt;&lt;/a&gt;树莓派 3B&lt;/h2&gt;&lt;p&gt;最近研究了一下新“玩具”（RaspberryPi 3B)，尝试了官方的&lt;a href=&quot;https://www.raspberrypi.org/downloads/raspbian/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;RASPBIAN&lt;/a&gt;，感觉不是很好用，特别是蓝牙的配置，最后果断转战了熟悉的&lt;a href=&quot;http://ubuntu-mate.org/download/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Ubuntu-Mate&lt;/a&gt;。&lt;/p&gt;
    
    </summary>
    
      <category term="折腾笔记" scheme="https://yespace.xyz/categories/%E6%8A%98%E8%85%BE%E7%AC%94%E8%AE%B0/"/>
    
    
      <category term="树莓派" scheme="https://yespace.xyz/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/"/>
    
      <category term="操作系统" scheme="https://yespace.xyz/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
    
  </entry>
  
</feed>
